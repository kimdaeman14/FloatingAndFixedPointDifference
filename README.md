# FloatingAndFixedPointDifference


고정소수점과 부동소수점의 방식 

고정 소수점(Fixed-point arithmetic) 형식

이는 소수점의 위치가 특정 위치에 고정되어 있다고 가정하고 실수를 표현하는 방식입니다. 예를 들어 1230과 1230000이라는 수가 있을 때 소수점의 위치가 1000이라고 하면 각각의 수는 1.23과 1230을 나타내게 되는 것입니다. 소수점의 위치는 데이터타입에 따라 동일하기 때문에 계산이 용이하나 고정 소수점 형식은 매우 큰 값이나 작은 값을 표현할 수 없다는 단점을 가지고 있습니다. 일반적으로 2바이트와 4바이트 고정 소수점 형식이 자주 사용되는 데 각각 아래와 같이 1비트 부호부와 정수부를 가지고 있습니다.



    2바이트(16비트) 정수형 : 부호부 1비트(bit) + 정수부 15비트(bit)

    4바이트(32비트) 정수형 : 부호부 1비트(bit) + 정수부 30비트(bit)



부호부에는 양수일 경우 0이 음수일 경우에는 1이 들어가게 되며 정수부에는 부호를 뺀 나머지 숫자가 2진수로 표현되게 됩니다. 고정 소수점 형식의 바이트의 크기에 따라 표현할 수 있는 수의 범위가 달라지며 이는 정수부의 크기에 의존합니다.





예를 들어 2바이트 정수형일 경우 정수부가 15비트이므로 표현할 수 있는 수의 범위는 아래와 같습니다.

 



* 고정소수점 방식은 음수를 표현하기위해 부호화 1) 절대치 방식, 2)1의 보수, 3) 2의 보수 방식을 사용합니다.





부동 소수점(Floating Point) 형식

이는 소수점의 위치를 고정하지 않고 그 위치를 나타내는 수를 따로 적어내어 실수를 표현하는 방식으로 유효숫자를 나타내는 가수부와 소수점의 위치를 나타내는 지수부로 나누어 표현합니다. 고정 소수점 방식보다 매우 큰 수와 작은 수등 넓은 범위의 수를 나타낼 수 있는 것이 큰 특징이며 기본적으로 아래와 같은 곱셈 형태로 표현합니다.





예를 들어 0.4를 밑수가 10인 부동 소수점 수로 나타내면 으로 밑수가 2인 부동 소수점 수로 나타내면 으로 나타낼 수 있습니다. 만약 가수부를 한자리 자연수를 갖도록 바꾸면  로 나타낼 수 있는데 이처럼 가수의 첫째 자리가 밑수보다 작은 한자리 자연수로 바꾸는 것을 정규화 라고 합니다.  밑수가 2인 경우라면 로 정규화 할 수 있습니다.

컴퓨터에서는 이진법을 사용하여 밑수를 2로 하고 부호부, 지수부(부호가 없는 정수), 가수부(부호가 있는 정수) 세 부분의 값으로 실수를 나타냅니다. 아래는 4바이트와 8바이트 실수형에서 부호부, 지수부, 가수부의 비율을 나타내며 더 많은 바이트를 사용할 수록 더 '정확한 값에 가까운' 근사치를 저장할 수 있으며 각각을 단정도(Float), 배정도(Double) 실수형이라고 부르기도 합니다.



  4바이트(32비트) 단정도(Float) 실수형 : 부호부 1비트(bit) + 지수부 8비트(bit) + 가수부 23비트(bit)

  8바이트(64비트) 배정도(Double) 실수형 : 부호부 1비트(bit) + 지수부 11비트(bit) + 가수부 52비트(bit)





e

컴퓨터에서 부동소수점을 다루다 보면 14e2과 같이 e가 들어간 표현을 보게 됩니다. 이는 e앞에 부분이 가수부, e뒤에 부분이 지수부이며 밑수는 10이라는 의미입니다. 따라서 14e2는 14 x 10^2이므로 1400이 123e-3이라면 123 x 10^-3 = 123 x 0.001 = 0.123이 되는 것입니다.

표현되는 수를 좀더 쉽게 파악하자면 e 뒷부분인 지수부가 양수라면 소수점을 그 수만큼 오른쪽으로, 음수라면 그 수만큼 왼쪽으로 이동하면 됩니다.



* 부동 소수점은 0.1과 0.01을 표현하지 못하는 등 실수를 '정확히 표현'하지 못하는 문제를 가지고 있습니다. 예를 들어 행렬 계산을 하다보면 0이라고 나와야 할 곳에 -2.2204e-016, -4.4409e-016등과 같은 값을 나타나기도 하는데 이는 -0.0000000000000022204, -0.0000000000000044409과 같은 값으로 결국 0이라고 판단해도 무방한 값으로 실수를 정확히 표현할 수 없기 때문에 나타나는 값입니다.



출처: http://unlimitedpower.tistory.com/entry/DataStructure-고정-소수점-부동-소수점-형식-그리고-e [오늘도 공장은 돌아간다.]
